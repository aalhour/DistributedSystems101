#+Title: Distributed Systems 101
#+Author: @lvh
#+Email: _@lvh.io

#+OPTIONS: toc:nil reveal_rolling_links:nil num:nil reveal_history:true
#+REVEAL_TRANS: linear
#+REVEAL_THEME: lvh

* Introduction

** Who am I?

   #+ATTR_HTML: :style width:80%
   [[./media/lvh.svg]]

** Rackspace

   #+ATTR_HTML: :style width:90%
   [[./media/rackspace.svg]]

** AutoScale

   #+ATTR_HTML: :style width:90%
   [[./media/threeotters.jpg]]

** AutoScale

   #+ATTR_REVEAL: :frag roll-in
   * Distributed system
   * Manages distributed systems
   * Running on distributed systems
   * Interacting with distributed systems

** Why this talk?

   Parallels with Crypto 101

   #+ATTR_REVEAL: :frag roll-in
   * Field considered exclusive domain of experts
   * Abstinence-only education doesn't work
   * Lots of material, but not organized for self-teaching
   * We can't afford not to care

** Disconnect

    * Many theoreticians ignore practice
    * Many practitioners ignore theory

** Distributed Systems 101

   "Just enough" distributed systems

   #+ATTR_REVEAL: :frag roll-in
   * to whet your appetite
   * to shoot yourself in the foot

* Distributed systems and concurrency

** What /is/ a distributed system?

   A system is distributed if a machine I've never heard of can cause
   my program to fail.

   /Leslie Lamport/

** Paradox

   * Why do we use them? Reliability!
   * Experts' primary concern? Failure!

** Distributed system

   * Basically everything (including your laptop)
     * Speed of light isn't infinite
     * RAM is /all the way over there/
   * Typically:
     * Any system with > 1 machine
     * Connected via network

** Concurrency

   Overlapping operations

** Sequence diagrams

* CAP

** Pick any two!

   * Consistency
   * Availability
   * Partition tolerance

** What does that even mean?

   * Availability, n.: any non-failing node answers every query
   * Consistency:, n.:
   * Partition tolerance, p.:

** Pick any two:

   #+ATTR_HTML: :style width:50%
   [[./media/cap-venn-base.svg]]

** Pick any two

   #+ATTR_HTML: :style width:50%
   [[./media/cap-venn-any2.svg]]

** You can't sacrifice partition tolerance

   Networks fail!

   TODO: explain various causes of latency in prod

** Pick any two: AP or CP

   #+ATTR_HTML: :style width:50%
   [[./media/cap-venn-any2-withp.svg]]

** Reality

   [[./media/shades.svg]]

** Gradations

   #+ATTR_HTML: :style width:80%
   [[./media/ap-cp.svg]]

* Impossibility results

** FLP

** Wallclocks

* Components

  (High and low level)

** Queues

** Consensus protocols

** Consensus protocol recipes

   * Set partitioning
   * Consistent counters
   * ...

** CRDTs

*** Previously: CAP

    * Presented as trade-off: C versus A
    * Doesn't explain what we can do /on/ that line
    * CRDTs: wonderful modern example of what we can do

* Conclusion

** Yay, distributed systems!

   * More resilient
   * More performant
   * Make problems tractable

** Argh, distributed systems!

   * Incredibly hard to reason about
   * Expensive to operate

** Why distributed systems?

   Because you're /out of options/.

* Questions?
